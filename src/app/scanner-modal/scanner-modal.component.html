<GridLayout rows="auto,*" class="layout-contact">

  <GridLayout row="0" columns="80,*,80" class="main_page_bg" backgroundColor="blue">
    <Button col="0" class="ico_moon button_close" text="&#xea0f;" (tap)="closeModal()" horizontalAlignment="center"
      verticalAlignment="bottom"></Button>
    <Label col="1" text="SCAN HÓA ĐƠN" verticalAlignment="bottom" class="action_bar_title_main"></Label>
  </GridLayout>


  <MLKitBarcodeScanner (loaded)="onScannerLoad()" row="1" class="layout_barcode" width="100%" height="100%"
    formats="QR_CODE, UPC_A, EAN_13" beepOnScan="false" supportInverseBarcodes="false" processEveryNthFrame="10"
    [torchOn]="torchOn" [pause]="pause" (scanResult)="onBarcodeScanResult($event)">
  </MLKitBarcodeScanner>

  <GridLayout row="1">
    <GridLayout rows="*, 320, *" columns="*, 5/6*, *">

      <GridLayout row="1" col="1" rows="1/6*, *, 1/6*" columns="1/6*, *, 1/6*"
        [ngClass]="isGranted()?'layout_scanner_middle_granted':'layout_scanner_middle'">
        <Label class="frame-top-left" row="0" col="0"></Label>
        <Label class="frame-top-right" row="0" col="2"></Label>
        <Label class="frame-bottom-left" row="2" col="0"></Label>
        <Label class="frame-bottom-right" row="2" col="2"></Label>
        <StackLayout class="swing" row="0" col="0" colSpan="3">
          <Label height="1" marginBottom="1" borderBottomWidth="1" borderColor="rgba(81, 184, 237, 0.1)"></Label>
          <Label height="1" marginBottom="1" borderBottomWidth="1" borderColor="rgba(81, 184, 237, 0.2)"></Label>
          <Label height="1" marginBottom="1" borderBottomWidth="1" borderColor="rgba(81, 184, 237, 0.3)"></Label>
          <Label height="1" marginBottom="1" borderBottomWidth="1" borderColor="rgba(81, 184, 237, 0.4)"></Label>
          <Label height="1" marginBottom="1" borderBottomWidth="1" borderColor="rgba(81, 184, 237, 0.5)"></Label>
          <Label height="1" marginBottom="1" borderBottomWidth="1" borderColor="rgba(81, 184, 237, 0.6)"></Label>
          <Label height="1" marginBottom="1" borderBottomWidth="1" borderColor="rgba(81, 184, 237, 0.7)"></Label>
          <Label height="1" marginBottom="1" borderBottomWidth="1" borderColor="rgba(81, 184, 237, 0.8)"></Label>
          <Label height="1" marginBottom="1" borderBottomWidth="1" borderColor="rgba(81, 184, 237, 0.9)"></Label>
          <Label height="1" marginBottom="1" borderBottomWidth="1" borderColor="rgba(81, 184, 237, 1)"></Label>
        </StackLayout>
      </GridLayout>
      <Label row="0" col="1" class="text_title" textWrap="true" verticalAlignment="center" horizontalAlignment="center"
        text="Quét mã vạch của đơn hàng"></Label>
      <ListView row="2" col="0" colSpan="3" [items]="barcodes" class="m-t-20" backgroundColor="transparent">
        <ng-template let-item="item">
          <GridLayout columns="2*, 3*">
            <Label col="0" class="mlkit-result" textWrap="true" [text]="item.format" fontSize="20"
              color="white"></Label>
            <Label col="1" class="mlkit-result" textWrap="true" [text]="item.displayValue" fontSize="20"
              color="white"></Label>
          </GridLayout>
        </ng-template>
      </ListView>
    </GridLayout>

    <GridLayout rows="auto" columns="auto, auto" horizontalAlignment="right" class="layout_switch">
      <Label col="0" text="Flash" class="switch_text" [class.disabled]="!torchOn" verticalAlignment="center"></Label>
      <Switch col="1" [checked]="torchOn" textOn="Flash" (checkedChange)="toggleTorch($event)"></Switch>
    </GridLayout>
    <GridLayout row="2" horizontalAlignment="center" verticalAlignment="bottom">
      <StackLayout class="layout_button_tick">
        <Label text="&#xea10;" class=" button_tick ico_moon" (tap)="close()"></Label>


      </StackLayout>



    </GridLayout>

  </GridLayout>

</GridLayout>
